

<ion-view title="Reporte mensual">
<style type="text/css">

</style>
  <ion-nav-bar class="bar-positive">
                    <ion-nav-buttons side="left">
                     <!-- Toggle left side menu -->
                     <button menu-toggle="left" class="button button-clear button-icon icon ion-navicon"></button>
                    </ion-nav-buttons>
         
                  </ion-nav-bar>



  
  <ion-content >

<!--
<div class="card">
    <div class="item item-body">
            Tienes  {{propositos_dios.length}} propositos con la vinculacion Dios <br>
            Tienes  {{propositos_conmigo.length}} propositos con la vinculacion Conmigo <br>
             Tienes  {{propositos_losDemas.length}} propositos con la vinculacion Los Demas <br>
              Tienes  {{propositos_naturaleza.length}} propositos con la vinculacion Naturaleza <br>




    </div>  
</div> -->

<!--
<div class="card">

  <div class="item item-body">
    El proposito que más cumpli fue {{maxPropositoGeneral.proposito}}

  </div>

  <div class="item item-body">
    El proposito que menos cumpli fue {{minPropositoGeneral.proposito}}

  </div>


</div>-->

<!--
<div class="card">
    <ion-list>
          <ion-item class="item-body" ng-repeat="proposito in maxProposito">
            <h2> Max Proposito: {{proposito.proposito}} - {{proposito.vinculacion_nombre}} </h2>
            Positvo: {{proposito.positivo}} <br>
            Negativo: {{proposito.negativo}} <br>
            Neutro: {{proposito.neutro}} <br>
          </ion-item>
</ion-list>

</div> -->

<div class="list">

  <label class="item item-input item-select">

    <div class="input-label">
      Mes
    </div>
 <select name="mySelect" id="mySelect"
      ng-options="option for option in meses.availableOptions"
      ng-model="meses.selectedOption" ng-change="actualizarReporte()"></select>
  </label>

    <label class="item item-input item-select">
    <div class="input-label">
      Año
    </div>
    <select name="mySelect2" id="mySelect2"
      ng-options="option for option in anos.availableOptions"
      ng-model="anos.selectedOption" ng-change="actualizarReporte()"></select>
  </label>
  </label>


</div>


<div class="card">

  <h5 style="margin-left:8px;">Referencias</h5>
  <div class="row referencias">

      <div class="col positivo"> Si </div>
   <div class="col negativo"> No</div>
    <div class="col neutro">No aplica</div>
    <div class="col" style="background:#FBF7F7;"> No marcado</div>

  </div>


</div>

   
<div class="card"ng-repeat="vinculacion in vinculaciones" >



    <div class="item item-divider ">
    <h3> {{vinculacion.nombre}} </h3>
  </div>
  

 <div class=" item reporte"  ng-repeat="proposito in filtered =(propositos_mes | filter:{ vinculacion: vinculacion.id , mes_ano: anos.selectedOption  + '-'+ meses.selectedOption +'-' , })">
 <h5> {{proposito.proposito}} </h5>
        <div class="row">
          

            <div class="col marcacion" ng-repeat="numero in labels" 
            ng-class="{'positivo' : (proposito.marcaciones | filter:{ dia: anos.selectedOption +  '-' + meses.selectedOption +'-' + numero, cumplimiento: 1 }).length != 0 ,
                      'negativo' : (proposito.marcaciones | filter:{ dia: '2015-10-' + numero, cumplimiento: 2 }).length != 0 ,
                      'neutro' : (proposito.marcaciones | filter:{ dia: '2015-10-' + numero, cumplimiento: 0 }).length != 0 
                    }"> . </div>
         
        </div>

        <div class="row">
              <div class="col label1" ng-repeat="numero in labels" > {{numero}}</div>
        </div>

        <div class="row">
          
            <div class="marcacion2 col positivo" ng-repeat="a in getNumber(proposito.positivo) track by $index"></div>
            <div class="marcacion2 col negativo" ng-repeat="b in getNumber(proposito.negativo) track by $index"></div>
            <div class="marcacion2 col neutro" ng-repeat="c in getNumber(proposito.neutro) track by $index"></div>
             <div class="marcacion2 col " ng-repeat="c in getNumber(31 - proposito.neutro - proposito.positivo- proposito.negativo ) track by $index"></div>


        </div>
</div>




</div>

 <div class="card">
        <div class="item item-divider">
            Vision General
        </div>
        <div class="item item-text-wrap">
           <canvas id="radar" class="chart chart-radar"
              chart-data="data2" chart-labels="labels2" chart-options="{pointDotRadius : 3, datasetStrokeWidth : 2,
             
  
            }">
            </canvas> 
        </div>
    </div> 






   
  </ion-content>
</ion-view>